
![Logo](https://avatars.githubusercontent.com/u/76796043?s=200&v=4)




# konnect-app-plugin

App Konnect API documentation for third party apps.
## Installation
```
npm i konnect-app-plugin

or

yarn add konnect-app-plugin
```


## API Reference


#### init()

```
Initialize url
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `url`      | `string` | **Required**.API url|

#### getToken()

```
App Konnect API uses Bearer Authentication with tokens generated by Konnect server. 
Tokens can be generated by sending the program's username and password to app/v1/token
```

| Parameter | Type     | Description                |
| :-------- | :------- | :------------------------- |
| `endpoint` | `string` | **Required**. endpoint|
| `body` | `object` | **Required**. Body object containing user credentials for token generation |



#### registerCallback()

```
post 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|
| `body`      | `object` | **Required**.Register callback url|

#### updateCallback()

```
put 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|
| `body`      | `object` | **Required**.Update callback url.|

#### getCallback()

```
get 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|

#### getBalance()

```
get 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|

#### uploadDocument()

```
post 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|
| `body`      | `object` | **Required**.Upload kyc documents of a player|

#### createCWA()

```
post 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|
| `body`      | `object` | **Required**.Create CWA account.|

#### updateCWA()

```
put 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|
| `body`      | `object` | **Required**.Update CWA account.|

#### getDocumentType()

```
get 
```

| Parameter | Type     | Description                       |
| :-------- | :------- | :-------------------------------- |
| `endpoint`      | `string` | **Required**.endpoint|
| `body`      | `object` | **Required**.get document types.|



## Usage/Examples

```javascript
declare var require: any;
const {
  getToken,
  registerCallback,
  init
} = require('konnect-app-plugin');


 async init(){
    const url = 'sample url'
    try{
      const result = await init(url);
      console.log('Success')
    }catch (error){
      console.error('Login failed:', error);
      this.errorToast(JSON.stringify(error));
    }
  } 

 async getToken() {
    const endpoint = 'sample endpoint'
    const body = {
      USERNAME: 'sample username',
      PASSWORD: 'sample password',
    };
    try {
      const result = await getToken(endpoint,body);     
      console.log('result',result);
    } catch (error) {
      console.error('Login failed:', error);
    }
  }



async registerCallback() {
    const endpoint='sample endpoint'
    const body = {
      body: 'sample body',
    };
    try {
      const result = await registerCallback(endpoint,body);
      console.log('registerCallback', result);

    } catch (error) {
      console.error('registerCallback failed:', error);
    }
  }
```


## License

[ISC](https://choosealicense.com/licenses/isc/)

